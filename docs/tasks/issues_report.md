# 課題点・問題点レポート

## 日付: 2026-01-20

---

## 🔴 未解決の課題

### 1. マップカメラ中央配置
**現状**: プレイヤー駒が画面中央に来ない

**試した対策**:
- `scale(2.0)` でズーム → 中央計算とスケールの不一致で失敗
- `calc(50vw - playerX, 50vh - playerY)` → 効果なし
- カードサイズを2倍 (80×100 → 160×200) → まだズレている

**考えられる原因**:
1. `.map-container` の flexbox `justify-content: center` と `transform: translate` が干渉
2. グリッド全体の原点が左上にあり、中央配置の基準がずれている
3. CSS の `overflow: hidden` や親要素のレイアウトの影響

**次回の対策案**:
- `position: absolute` + `left: 50%` + `top: 50%` + `transform: translate(-50%, -50%)` を試す
- グリッドコンテナを固定サイズにして、その中でプレイヤー位置を計算
- ビューポートサイズを JavaScript で取得して正確なオフセットを計算

---

## ✅ 解決済みの課題

### シナリオ終了後のマップ遷移
- 原因: 非ブロッキングコマンドの自動進行がテキストコマンドを処理しなかった
- 解決: `useScenarioStore.ts` でテキストコマンドも自動処理するよう修正

### レスポンシブ対応
- `App.css` に `clamp()` とメディアクエリを追加
- モバイル横画面対応完了

---

## 📋 今後のタスク
1. マップカメラ中央配置の修正
2. バトル画面実装 (Sprint 2)
3. カードテクスチャ画像の追加
